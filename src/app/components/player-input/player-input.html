<div class="flex flex-col justify-center items-center h-full">
    <div *ngIf="!user" class="w-full max-w-md">
        <div class="text-lg font-semibold text-center mb-4 text-red-600">Sign in to have your score added to the leaderboard!</div>
        <form (ngSubmit)="isLoginMode ? signInEmail() : signUpEmail()">
            <mat-form-field class="w-full mb-2">
                <mat-label>Email</mat-label>
                <input matInput [(ngModel)]="email" name="email" type="email" placeholder="Email" required>
            </mat-form-field>
            <mat-form-field class="w-full mb-2">
                <mat-label>Password</mat-label>
                <input matInput [(ngModel)]="password" name="password" type="password" placeholder="Password" required>
            </mat-form-field>
            <div class="flex gap-2 mb-2">
                <button mat-raised-button color="primary" type="submit" *ngIf="isLoginMode">Login</button>
                <button mat-raised-button color="accent" type="submit" *ngIf="!isLoginMode">Sign Up</button>
                <button mat-button type="button" (click)="isLoginMode = !isLoginMode">{{ isLoginMode ? 'Need an account? Sign Up' : 'Already have an account? Login' }}</button>
            </div>
        </form>
        <button mat-raised-button color="warn" (click)="signInGoogle()">Sign in with Google</button>
        <div *ngIf="error" class="text-red-500 mt-2">{{ error }}</div>
    </div>

    <div class="w-full max-w-md mt-6">
        <mat-form-field class="w-full mb-2">
            <mat-label>Player Name</mat-label>
            <input matInput [(ngModel)]="playerName" placeholder="Ex. Pizza">
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="startGame()">Start Game</button>
        <button *ngIf="user" mat-button color="warn" (click)="signOut()">Sign Out</button>
        <div *ngIf="user" class="mt-2">Logged in as: <span class="font-bold">{{ user.displayName || user.email }}</span></div>
    </div>
</div>
